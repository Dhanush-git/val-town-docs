---
import { getCollection } from "astro:content";

// Get all documentation
const docs = await getCollection("docs");

// Title
let content = "# Val Town Full Documentation\n\n";

// Add each document's full content
for (const doc of docs) {
  content += `# ${doc.data.title}\n\n`;
  content += `URL: https://docs.val.town/${doc.slug}.md\n\n`;
  content += `${doc.body}\n\n---\n\n`;
}

// Return raw markdown response
return new Response(content, {
  headers: {
    'Content-Type': 'text/markdown; charset=utf-8',
    'X-Robots-Tag': 'noindex, nofollow'
  }
});
--- 